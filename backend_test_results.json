{
  "total_tests": 38,
  "passed": 13,
  "failed": 25,
  "success_rate": 34.21052631578947,
  "results": [
    {
      "test": "Server Connectivity",
      "success": true,
      "details": "Backend server is running and accessible",
      "timestamp": "2025-07-22T13:43:48.475132",
      "response_data": null
    },
    {
      "test": "Intent Detection - General Chat",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:44:03.997971",
      "response_data": null
    },
    {
      "test": "Intent Detection - Send Email",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:44:19.506881",
      "response_data": null
    },
    {
      "test": "Intent Detection - Create Event",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:44:35.120986",
      "response_data": null
    },
    {
      "test": "Intent Detection - Add Todo",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:44:50.671198",
      "response_data": null
    },
    {
      "test": "Intent Detection - Set Reminder",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:45:06.238166",
      "response_data": null
    },
    {
      "test": "Approval Workflow - Approved",
      "success": false,
      "details": "No message IDs available for approval test",
      "timestamp": "2025-07-22T13:45:06.738342",
      "response_data": null
    },
    {
      "test": "Approval Workflow - Rejected",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:45:22.274824",
      "response_data": null
    },
    {
      "test": "Approval Workflow - Edited Data",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=15)",
      "timestamp": "2025-07-22T13:45:37.860604",
      "response_data": null
    },
    {
      "test": "Chat History - Retrieval",
      "success": false,
      "details": "Error: HTTPSConnectionPool(host='1177f8b3-e76c-450d-ac57-9d136be3218f.preview.emergentagent.com', port=443): Read timed out. (read timeout=10)",
      "timestamp": "2025-07-22T13:45:48.401886",
      "response_data": null
    },
    {
      "test": "Chat History - Clearing",
      "success": true,
      "details": "Chat history successfully cleared",
      "timestamp": "2025-07-22T13:45:53.852249",
      "response_data": null
    },
    {
      "test": "Error Handling - Invalid Message ID",
      "success": true,
      "details": "Correctly returned 404 for invalid message ID",
      "timestamp": "2025-07-22T13:45:54.390681",
      "response_data": null
    },
    {
      "test": "Health Endpoint - Enhanced System",
      "success": false,
      "details": "Missing web automation intents: ['linkedin_insights', 'email_automation', 'price_monitoring']",
      "timestamp": "2025-07-22T13:45:54.915476",
      "response_data": {
        "status": "healthy",
        "mongodb": "connected",
        "gmail_api_integration": {
          "status": "ready",
          "oauth2_flow": "implemented",
          "credentials_configured": true,
          "authenticated": false,
          "scopes": [
            "https://www.googleapis.com/auth/gmail.readonly",
            "https://www.googleapis.com/auth/gmail.send",
            "https://www.googleapis.com/auth/gmail.compose",
            "https://www.googleapis.com/auth/gmail.modify"
          ],
          "endpoints": [
            "/api/gmail/auth",
            "/api/gmail/callback",
            "/api/gmail/status",
            "/api/gmail/inbox",
            "/api/gmail/send",
            "/api/gmail/email/{id}"
          ]
        },
        "advanced_hybrid_ai_system": {
          "version": "2.0",
          "groq_api_key": "configured",
          "claude_api_key": "configured",
          "groq_model": "llama3-8b-8192",
          "claude_model": "claude-3-5-sonnet-20241022",
          "sophisticated_features": {
            "task_classification": [
              "primary_intent",
              "emotional_complexity",
              "professional_tone",
              "creative_requirement",
              "technical_complexity",
              "response_length",
              "user_engagement_level",
              "context_dependency",
              "reasoning_type"
            ],
            "routing_strategies": [
              "intent_based",
              "emotional_routing",
              "professional_routing",
              "creative_routing",
              "sequential_execution",
              "context_enhancement"
            ],
            "advanced_capabilities": [
              "conversation_history_tracking",
              "context_aware_responses",
              "fallback_mechanisms",
              "confidence_scoring",
              "routing_explanation"
            ]
          },
          "routing_models": {
            "claude_tasks": [
              "high_emotional",
              "creative_content",
              "conversational",
              "professional_warm"
            ],
            "groq_tasks": [
              "logical_reasoning",
              "structured_analysis",
              "technical_complex",
              "intent_detection"
            ],
            "sequential_tasks": [
              "professional_emails",
              "linkedin_posts",
              "complex_creative"
            ],
            "web_automation_tasks": [
              "web_scraping",
              "data_extraction"
            ]
          }
        },
        "n8n_webhook": "configured",
        "playwright_service": {
          "status": "available",
          "browser": "chromium",
          "capabilities": [
            "dynamic_data_extraction",
            "web_scraping"
          ]
        }
      }
    },
    {
      "test": "Gmail API Health Integration",
      "success": true,
      "details": "Gmail API integration ready with 4 scopes and 6 endpoints",
      "timestamp": "2025-07-22T13:45:55.443392",
      "response_data": null
    },
    {
      "test": "Gmail OAuth - Status",
      "success": false,
      "details": "Missing status fields: ['token_exists', 'redirect_uri']",
      "timestamp": "2025-07-22T13:45:55.965139",
      "response_data": {
        "success": true,
        "credentials_configured": true,
        "authenticated": false,
        "session_id": null,
        "requires_auth": true,
        "scopes": [
          "https://www.googleapis.com/auth/gmail.readonly",
          "https://www.googleapis.com/auth/gmail.send",
          "https://www.googleapis.com/auth/gmail.compose",
          "https://www.googleapis.com/auth/gmail.modify"
        ],
        "service": "gmail"
      }
    },
    {
      "test": "Gmail OAuth - Auth URL",
      "success": true,
      "details": "OAuth2 auth URL generated successfully with all required parameters",
      "timestamp": "2025-07-22T13:45:56.482912",
      "response_data": null
    },
    {
      "test": "Email Inbox Check Intent Detection",
      "success": true,
      "details": "\u2705 Simple inbox check: Email functionality recognized in response\n    \u2705 Unread emails query: Email functionality recognized in response\n    \u2705 Show inbox request: Email functionality recognized in response\n    \u2705 New emails inquiry: Email functionality recognized in response",
      "timestamp": "2025-07-22T13:46:48.195568",
      "response_data": null
    },
    {
      "test": "Gmail Inbox Endpoint Direct",
      "success": true,
      "details": "Endpoint accessible but returns error (expected): 500",
      "timestamp": "2025-07-22T13:46:48.712679",
      "response_data": null
    },
    {
      "test": "Gmail OAuth - Callback Structure",
      "success": false,
      "details": "Expected 400 for missing code, got 405",
      "timestamp": "2025-07-22T13:46:49.236461",
      "response_data": "{\"detail\":\"Method Not Allowed\"}"
    },
    {
      "test": "Gmail Credentials Loading",
      "success": true,
      "details": "Gmail credentials loaded successfully with 4 scopes and 6 endpoints",
      "timestamp": "2025-07-22T13:46:49.757356",
      "response_data": null
    },
    {
      "test": "Gmail Service Initialization",
      "success": false,
      "details": "Unexpected response: {'detail': '400: session_id is required'}",
      "timestamp": "2025-07-22T13:46:50.275667",
      "response_data": {
        "detail": "400: session_id is required"
      }
    },
    {
      "test": "Web Automation Intent Detection",
      "success": false,
      "details": "\u2705 Web scraping intent: web_scraping\n    \u274c LinkedIn insights intent: Expected linkedin_insights, got check_linkedin_notifications\n    \u274c Email automation intent: Expected email_automation, got check_gmail_inbox\n    \u274c Price monitoring intent: Expected price_monitoring, got scrape_price\n    \u274c Data extraction intent: Expected data_extraction, got scrape_product_listings",
      "timestamp": "2025-07-22T13:47:53.321946",
      "response_data": null
    },
    {
      "test": "Web Automation - Data Extraction",
      "success": false,
      "details": "Automation failed: Failed to extract data: BrowserType.launch: Target page, context or browser has been closed\nBrowser logs:\n\n<launching> /pw-browsers/chromium-1179/chrome-linux/chrome --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=ImprovedCookieControls,LazyFrameLoading,GlobalMediaControls,DestroyProfileOnBrowserClose,MediaRouter,DialMediaRouteProvider,AcceptCHFrame,AutoExpandDetailsElement,CertificateTransparencyComponentUpdater,AvoidUnnecessaryBeforeUnloadCheckSync,Translate,HttpsUpgrades,PaintHolding,ThirdPartyStoragePartitioning,LensOverlay,PlzDedicatedWorker --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --enable-automation --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --headless=old --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --no-sandbox --disable-setuid-sandbox --disable-dev-shm-usage --disable-gpu --disable-extensions --no-first-run --disable-default-apps --disable-features=TranslateUI --disable-ipc-flooding-protection --user-data-dir=/tmp/playwright_chromiumdev_profile-gpDzkR --remote-debugging-pipe --no-startup-window\n<launched> pid=2920\n[pid=2920][err] Old Headless mode has been removed from the Chrome binary. Please use the new Headless mode (https://developer.chrome.com/docs/chromium/new-headless) or the chrome-headless-shell which is a standalone implementation of the old Headless mode (https://developer.chrome.com/blog/chrome-headless-shell).\n[pid=2920][err] \nCall log:\n<launching> /pw-browsers/chromium-1179/chrome-linux/chrome --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=ImprovedCookieControls,LazyFrameLoading,GlobalMediaControls,DestroyProfileOnBrowserClose,MediaRouter,DialMediaRouteProvider,AcceptCHFrame,AutoExpandDetailsElement,CertificateTransparencyComponentUpdater,AvoidUnnecessaryBeforeUnloadCheckSync,Translate,HttpsUpgrades,PaintHolding,ThirdPartyStoragePartitioning,LensOverlay,PlzDedicatedWorker --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --enable-automation --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --headless=old --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --no-sandbox --disable-setuid-sandbox --disable-dev-shm-usage --disable-gpu --disable-extensions --no-first-run --disable-default-apps --disable-features=TranslateUI --disable-ipc-flooding-protection --user-data-dir=/tmp/playwright_chromiumdev_profile-gpDzkR --remote-debugging-pipe --no-startup-window\n  - <launched> pid=2920\n  - [pid=2920][err] Old Headless mode has been removed from the Chrome binary. Please use the new Headless mode (https://developer.chrome.com/docs/chromium/new-headless) or the chrome-headless-shell which is a standalone implementation of the old Headless mode (https://developer.chrome.com/blog/chrome-headless-shell).\n  - [pid=2920][err] \n",
      "timestamp": "2025-07-22T13:48:06.828753",
      "response_data": {
        "success": false,
        "data": {},
        "message": "Failed to extract data: BrowserType.launch: Target page, context or browser has been closed\nBrowser logs:\n\n<launching> /pw-browsers/chromium-1179/chrome-linux/chrome --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=ImprovedCookieControls,LazyFrameLoading,GlobalMediaControls,DestroyProfileOnBrowserClose,MediaRouter,DialMediaRouteProvider,AcceptCHFrame,AutoExpandDetailsElement,CertificateTransparencyComponentUpdater,AvoidUnnecessaryBeforeUnloadCheckSync,Translate,HttpsUpgrades,PaintHolding,ThirdPartyStoragePartitioning,LensOverlay,PlzDedicatedWorker --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --enable-automation --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --headless=old --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --no-sandbox --disable-setuid-sandbox --disable-dev-shm-usage --disable-gpu --disable-extensions --no-first-run --disable-default-apps --disable-features=TranslateUI --disable-ipc-flooding-protection --user-data-dir=/tmp/playwright_chromiumdev_profile-gpDzkR --remote-debugging-pipe --no-startup-window\n<launched> pid=2920\n[pid=2920][err] Old Headless mode has been removed from the Chrome binary. Please use the new Headless mode (https://developer.chrome.com/docs/chromium/new-headless) or the chrome-headless-shell which is a standalone implementation of the old Headless mode (https://developer.chrome.com/blog/chrome-headless-shell).\n[pid=2920][err] \nCall log:\n<launching> /pw-browsers/chromium-1179/chrome-linux/chrome --disable-field-trial-config --disable-background-networking --disable-background-timer-throttling --disable-backgrounding-occluded-windows --disable-back-forward-cache --disable-breakpad --disable-client-side-phishing-detection --disable-component-extensions-with-background-pages --disable-component-update --no-default-browser-check --disable-default-apps --disable-dev-shm-usage --disable-extensions --disable-features=ImprovedCookieControls,LazyFrameLoading,GlobalMediaControls,DestroyProfileOnBrowserClose,MediaRouter,DialMediaRouteProvider,AcceptCHFrame,AutoExpandDetailsElement,CertificateTransparencyComponentUpdater,AvoidUnnecessaryBeforeUnloadCheckSync,Translate,HttpsUpgrades,PaintHolding,ThirdPartyStoragePartitioning,LensOverlay,PlzDedicatedWorker --allow-pre-commit-input --disable-hang-monitor --disable-ipc-flooding-protection --disable-popup-blocking --disable-prompt-on-repost --disable-renderer-backgrounding --force-color-profile=srgb --metrics-recording-only --no-first-run --enable-automation --password-store=basic --use-mock-keychain --no-service-autorun --export-tagged-pdf --disable-search-engine-choice-screen --unsafely-disable-devtools-self-xss-warnings --headless=old --hide-scrollbars --mute-audio --blink-settings=primaryHoverType=2,availableHoverTypes=2,primaryPointerType=4,availablePointerTypes=4 --no-sandbox --no-sandbox --disable-setuid-sandbox --disable-dev-shm-usage --disable-gpu --disable-extensions --no-first-run --disable-default-apps --disable-features=TranslateUI --disable-ipc-flooding-protection --user-data-dir=/tmp/playwright_chromiumdev_profile-gpDzkR --remote-debugging-pipe --no-startup-window\n  - <launched> pid=2920\n  - [pid=2920][err] Old Headless mode has been removed from the Chrome binary. Please use the new Headless mode (https://developer.chrome.com/docs/chromium/new-headless) or the chrome-headless-shell which is a standalone implementation of the old Headless mode (https://developer.chrome.com/blog/chrome-headless-shell).\n  - [pid=2920][err] \n",
        "execution_time": 0.42897486686706543,
        "automation_id": "541195d1-bc45-48e3-a468-d5985b68aa0d"
      }
    },
    {
      "test": "Web Automation - Price Monitoring",
      "success": false,
      "details": "HTTP 400",
      "timestamp": "2025-07-22T13:48:07.378563",
      "response_data": "{\"detail\":\"Unsupported automation type: price_monitoring\"}"
    },
    {
      "test": "Web Automation - LinkedIn Insights",
      "success": false,
      "details": "HTTP 501",
      "timestamp": "2025-07-22T13:48:07.893735",
      "response_data": "{\"detail\":\"LinkedIn insights temporarily disabled - Gmail API integration coming soon\"}"
    },
    {
      "test": "Web Automation - Email Automation",
      "success": false,
      "details": "HTTP 501",
      "timestamp": "2025-07-22T13:48:08.419005",
      "response_data": "{\"detail\":\"Email automation temporarily disabled - Gmail API integration coming soon\"}"
    },
    {
      "test": "Web Automation Error Handling",
      "success": false,
      "details": "\u2705 Missing URL for web scraping: Correctly returned 400\n    \u274c Missing credentials for LinkedIn: Expected 400, got 501\n    \u2705 Invalid automation type: Correctly returned 400",
      "timestamp": "2025-07-22T13:48:08.974201",
      "response_data": null
    },
    {
      "test": "Automation History",
      "success": true,
      "details": "Retrieved 1 automation records from history",
      "timestamp": "2025-07-22T13:48:09.497703",
      "response_data": null
    },
    {
      "test": "Direct Web Scraping Execution",
      "success": true,
      "details": "Web scraping detected and pending approval. URL: https://httpbin.org/html",
      "timestamp": "2025-07-22T13:48:22.092376",
      "response_data": null
    },
    {
      "test": "Direct Automation Intents",
      "success": true,
      "details": "\u2705 LinkedIn notifications check: Direct automation working - check_linkedin_notifications\n    \u2705 Price scraping: Direct automation working - scrape_price\n    \u2705 Product listings scraping: Direct automation working - scrape_product_listings\n    \u2705 LinkedIn job alerts: Direct automation working - linkedin_job_alerts\n    \u2705 Website updates monitoring: Direct automation working - check_website_updates\n    \u2705 Competitor monitoring: Direct automation working - monitor_competitors\n    \u2705 News articles scraping: Direct automation working - scrape_news_articles",
      "timestamp": "2025-07-22T13:49:55.365797",
      "response_data": null
    },
    {
      "test": "Automation Status Endpoint",
      "success": true,
      "details": "\u2705 check_linkedin_notifications: Status endpoint working\n    \u2705 scrape_price: Status endpoint working\n    \u2705 scrape_product_listings: Status endpoint working\n    \u2705 linkedin_job_alerts: Status endpoint working\n    \u2705 check_website_updates: Status endpoint working\n    \u2705 monitor_competitors: Status endpoint working\n    \u2705 scrape_news_articles: Status endpoint working",
      "timestamp": "2025-07-22T13:49:56.123915",
      "response_data": null
    },
    {
      "test": "Direct Automation Response Format",
      "success": true,
      "details": "All required fields present, execution_time: 9e-06s, automation_success: True",
      "timestamp": "2025-07-22T13:50:10.226185",
      "response_data": null
    },
    {
      "test": "Traditional vs Direct Automation",
      "success": false,
      "details": "Direct automation request failed",
      "timestamp": "2025-07-22T13:50:27.435956",
      "response_data": null
    },
    {
      "test": "Cleanup - Cookie References",
      "success": false,
      "details": "HTTP 502",
      "timestamp": "2025-07-22T13:50:27.958154",
      "response_data": ""
    },
    {
      "test": "Cleanup - Price Monitoring Removal",
      "success": false,
      "details": "HTTP 502",
      "timestamp": "2025-07-22T13:50:28.477723",
      "response_data": ""
    },
    {
      "test": "Cleanup - Deprecated Endpoints",
      "success": false,
      "details": "\u274c /cookie-sessions: Still accessible (502)\n    \u274c /automation/linkedin-insights: Still accessible (502)\n    \u274c /automation/email-check: Still accessible (502)\n    \u274c /cookie-sessions/cleanup: Still accessible (502)",
      "timestamp": "2025-07-22T13:50:29.147298",
      "response_data": null
    },
    {
      "test": "System Health - Gmail Integration",
      "success": false,
      "details": "HTTP 502",
      "timestamp": "2025-07-22T13:50:29.667387",
      "response_data": ""
    },
    {
      "test": "Existing Functionality Preservation",
      "success": false,
      "details": "Chat functionality broken",
      "timestamp": "2025-07-22T13:50:30.257764",
      "response_data": ""
    }
  ]
}